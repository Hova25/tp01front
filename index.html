<!DOCTYPE html>
<html lang="fr">
<head>
    <title>Liste de course V2</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <link rel="stylesheet" type="text/css" href="res/css/index.css"/>
</head>
<body>
    <!-- navbar -->
    <nav>
        <div class="nav-wrapper" style="background-color: darkred">
            <a onclick="navigate('index')" style="cursor: pointer; padding-left:10px; font-size: 1.5em" class="brand-logo">Liste de courses V2</a>
            <a href="#" data-target="mobile" class="sidenav-trigger"><i class="material-icons">menu</i></a>

            <ul id="nav-mobile" class="right hide-on-med-and-down">
                <li><a onclick="navigate('index')" style="cursor: pointer">Accueil</a></li>
                <li><a class="modal-trigger" href="#modalNewShopList" style="cursor: pointer">Nouvelle Liste</a></li>
                <li><a onclick="navigate('archives')" style="cursor: pointer">Archives</a></li>
                <li><a id="profileNav" class='dropdown-trigger' href='#' data-target='userProfileDropDown' style="cursor: pointer"></a></li>
                <li><a onclick="sessionStorage.removeItem('token'); navigate('index')" style="cursor: pointer">Deconnexion</a></li>
            </ul>

            <ul id='userProfileDropDown' class='dropdown-content'>
                <li><a onclick="navigate('myprofile')">Mon profile</a></li>
                <li><a onclick="navigate('partagedList')">Partagé avec moi</a></li>
            </ul>
        </div>
    </nav>

    <ul class="sidenav" id="mobile">
        <li><a onclick="navigate('index')" style="cursor: pointer">Accueil</a></li>
        <li><a href="#modalNewShopList" class="modal-trigger" style="cursor: pointer">Nouvelle Liste</a></li>
        <li><a onclick="navigate('archives')" style="cursor: pointer">Archives</a></li>
        <li><a id="profileNavMobile" onclick="$('#sousMenuProfile').style.display ==='none' ? $('#sousMenuProfile').style.display = 'block' : $('#sousMenuProfile').style.display = 'none'" style="cursor: pointer"></a></li>
        <ul id="sousMenuProfile" style="padding: 0 20px; display:none" >
            <li><a onclick="navigate('myprofile')">Mon profile</a></li>
            <li><a onclick="navigate('partagedList')">Partagé avec moi</a></li>
        </ul>
        <li><a onclick="sessionStorage.removeItem('token'); navigate('index')" style="cursor: pointer">Deconnexion</a></li>
    </ul>

<!--    modaldelete-->
    <div id="modalConfirmDelete" class="modal">
        <div class="modal-content">
            <h4>Supprimer</h4>
            <p>Etes vous sûr de vouloir supprimer <span id="spanDeleteObject"></span> ?</p>
        </div>
        <div class="modal-footer">
            <button class="btn modal-close waves-effect waves-green " style="background-color: darkred">NON</button>
            <button class="modal-close waves-effect waves-green btn-flat" id="btnDelete">OUI</button>
        </div>
    </div>
<!--    modalarchive-->
    <div id="modalConfirmArchive" class="modal">
        <div class="modal-content">
            <h4>Archiver</h4>
            <p>Etes vous sûr de vouloir archiver <span id="spanArchiveObject"></span> ?</p>
        </div>
        <div class="modal-footer">
            <button class="btn modal-close waves-effect waves-green " style="background-color: darkred">NON</button>
            <button class="modal-close waves-effect waves-green btn-flat" id="btnArchive">OUI</button>
        </div>
    </div>

<!--    modalnewShopList-->
    <div id="modalNewShopList" class="modal">
        <div class="modal-content">
            <h4>Créer une nouvelle liste de courses</h4>
            <input id="newShopListName" placeholder="Entrez un nom de magasin" type="text" class="validate">
            <input id="newShopListDate" placeholder="Entrez une date" type="date" class="validate">

        </div>
        <div class="modal-footer">
            <button class="btn modal-close waves-effect waves-green " style="background-color: darkred">ANNULER</button>
            <button class="waves-effect waves-green btn-flat" onclick="indexController.saveNewList()" id="btnCreateNewList">CREER</button>
        </div>
    </div>

<!--    modalPartageedList-->
    <div id="modalPartagedList" class="modal">
        <div class="modal-content" id="contentModalParategedList">
            <h4>Visualisation des partages de la liste</h4>
            <ul class="collection" id="partagedList">
            </ul>
<!--            <form id="partageForm" style="display:none">-->
            <form id="partageForm">
                <label for="addPartageEmail">Entrez l'e-mail de la personne à ajouter</label>
                <input id="addPartageEmail" placeholder="Entrez l'e-mail de la personne à ajouter" type="text" class="validate">
            </form>
            <button id="addPartageBtn" onclick="shopListController.addPartageBtn()" class="btn green darken-3">Ajouter un partage</button>
        </div>
        <div class="modal-footer">
            <button class="btn modal-close waves-effect waves-green " style="background-color: darkred">FERMER</button>
        </div>
    </div>


<div id="content"></div>

    <script type="application/ecmascript" src="app/tools.js"></script>
    <script type="application/ecmascript" src="app/model/classes.js"></script>
    <script type="application/ecmascript" src="app/model/model.js"></script>
    <script type="application/ecmascript" src="app/services/baseApi.js"></script>
    <script type="application/ecmascript" src="app/services/itemApi.js"></script>
    <script type="application/ecmascript" src="app/services/listApi.js"></script>
    <script type="application/ecmascript" src="app/services/useraccountApi.js"></script>
    <script type="application/ecmascript" src="app/services/partageListApi.js"></script>
    <script type="application/ecmascript" src="app/services/mailerApi.js"></script>
    <script type="application/ecmascript" src="app/controllers/basecontroller.js"></script>
    <script type="application/ecmascript" src="app/controllers/baseformcontroller.js"></script>
    <script>navigate("index")</script>
</body>
</html>
